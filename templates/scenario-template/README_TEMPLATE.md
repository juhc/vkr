# Инструкция по использованию шаблона сценария

## Как создать новый сценарий из шаблона

### Шаг 1: Копирование шаблона

```bash
# Перейдите в директорию scenarios
cd scenarios

# Скопируйте шаблон
cp -r ../templates/scenario-template scenario-[ваше-название]

# Перейдите в новый сценарий
cd scenario-[ваше-название]
```

### Шаг 2: Замена шаблонных значений

Используйте поиск и замену для замены следующих значений:

- `[Название организации/сценария]` → Ваше название
- `[Название сценария]` → Ваше название
- `[Название]` → Ваше название
- `[N]` → Конкретные числа
- `[IP]` → IP адреса
- `[IP_RANGE]` → Диапазоны IP
- `[GATEWAY_IP]` → IP адреса шлюзов
- `[SUBNET_MASK]` → Маски подсетей
- `[domain.local]` → Ваш домен
- `[domain.com]` → Ваш публичный домен
- `[hostname]` → Имена хостов
- `[machine1]`, `[machine2]` → Имена машин
- `[server-1]`, `[server-2]` → Имена серверов
- `[VM1]`, `[VM2]` → Имена виртуальных машин
- `[Network 1]`, `[Network 2]` → Названия сетей
- `[Категория серверов]` → Категории серверов
- `[Роль]` → Роли машин
- `[ОС]` → Операционные системы
- `[Сервисы]` → Список сервисов
- `[Порты]` → Список портов
- `[Уязвимости]` → Описание уязвимостей
- `[Задача 1]`, `[Задача 2]` → Конкретные задачи
- `[Навык 1]`, `[Навык 2]` → Конкретные навыки
- `[Результат 1]`, `[Результат 2]` → Конкретные результаты
- `[критерии]` → Конкретные критерии
- `[Рекомендация 1]`, `[Рекомендация 2]` → Конкретные рекомендации
- `[команда проверки]` → Конкретные команды
- `[Описание]` → Конкретные описания

### Шаг 3: Настройка инфраструктуры

1. **Terraform конфигурации**:
   - Настройте `infrastructure/terraform/` под ваши машины
   - Обновите переменные в `variables.tf`
   - Настройте `main.tf` для создания ваших машин

2. **Ansible конфигурации**:
   - Настройте `infrastructure/ansible/playbook.yml`
   - Создайте необходимые роли
   - Настройте `vulnerabilities.yml`

### Шаг 4: Заполнение документации

1. **Обзор** (`docs/overview/`):
   - Заполните `README.md` с описанием организации
   - Обновите `network-topology.md` с вашей сетевой топологией
   - Заполните `machine-scenarios.md` с описанием каждой машины

2. **Развертывание** (`docs/deployment/`):
   - Обновите `QUICKSTART.md` с вашими инструкциями
   - Настройте `DEPLOYMENT.md` под вашу инфраструктуру
   - Обновите `QUICK_TEST_DEPLOY.md` если используете Proxmox

3. **Обучение** (`docs/learning/`):
   - Заполните `objectives.md` с целями обучения для вашего сценария

4. **Оценка** (`docs/assessment/`):
   - Создайте чек-листы в `CHECKLISTS.md` для каждой машины
   - Заполните `SOLUTIONS.md` с правильными ответами
   - `REPORT_TEMPLATE.md` можно оставить как есть (универсальный)

### Шаг 5: Проверка

1. Проверьте все ссылки в документации
2. Убедитесь, что все шаблонные значения заменены
3. Проверьте структуру файлов
4. Протестируйте развертывание

## Структура шаблона

```
scenario-template/
├── README.md                    # Главная навигация (шаблон)
├── README_TEMPLATE.md           # Эта инструкция
├── docs/                        # Документация
│   ├── README.md                # Индекс документации
│   ├── overview/                # Обзор сценария
│   │   ├── README.md            # Описание организации (шаблон)
│   │   ├── network-topology.md  # Сетевая топология (шаблон)
│   │   └── machine-scenarios.md # Сценарии машин (шаблон)
│   ├── deployment/              # Развертывание
│   │   ├── QUICKSTART.md        # Быстрый старт (шаблон)
│   │   ├── QUICK_TEST_DEPLOY.md # Тестовое развертывание (шаблон)
│   │   └── DEPLOYMENT.md        # Полное руководство (шаблон)
│   ├── learning/                # Обучение
│   │   └── objectives.md        # Цели обучения (шаблон)
│   └── assessment/               # Оценка
│       ├── CHECKLISTS.md        # Чек-листы (шаблон)
│       ├── REPORT_TEMPLATE.md   # Шаблон отчета (готовый)
│       └── SOLUTIONS.md         # Решения (шаблон)
└── infrastructure/               # Инфраструктура (пустые директории)
    ├── terraform/
    └── ansible/
```

## Полезные команды для замены

### Linux/Mac

```bash
# Замена во всех файлах
find . -type f -name "*.md" -exec sed -i 's/\[Название\]/Ваше название/g' {} +
```

### Windows PowerShell

```powershell
# Замена во всех файлах
Get-ChildItem -Recurse -Filter "*.md" | ForEach-Object {
    (Get-Content $_.FullName) -replace '\[Название\]', 'Ваше название' | Set-Content $_.FullName
}
```

## Чек-лист создания сценария

- [ ] Скопирован шаблон
- [ ] Заменены все шаблонные значения в README.md
- [ ] Заполнен docs/overview/README.md
- [ ] Заполнен docs/overview/network-topology.md
- [ ] Заполнен docs/overview/machine-scenarios.md
- [ ] Обновлен docs/deployment/QUICKSTART.md
- [ ] Обновлен docs/deployment/DEPLOYMENT.md
- [ ] Заполнен docs/learning/objectives.md
- [ ] Созданы чек-листы в docs/assessment/CHECKLISTS.md
- [ ] Заполнен docs/assessment/SOLUTIONS.md
- [ ] Настроена инфраструктура Terraform
- [ ] Настроена инфраструктура Ansible
- [ ] Проверены все ссылки
- [ ] Протестировано развертывание

## Дополнительные ресурсы

- [Структура сценариев](../../scenarios-structure.md)
- [Структура документации](../../documentation-structure.md)
- [Пример сценария](../../scenarios/scenario-isp-company/)

