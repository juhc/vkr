# Роль: platform-admin

Роль для создания учетных записей администраторов платформы на всех машинах.

## Назначение

Создает учетные записи администраторов платформы на всех машинах инфраструктуры для:
- Доступа к машинам для управления
- Мониторинга состояния систем
- Устранения проблем
- Обслуживания инфраструктуры

## Использование

```yaml
- hosts: all
  vars:
    platform_admin_accounts:
      - username: "platform-admin"
        password: "PlatformAdmin123!"
        sudo_access: true
        groups: ["sudo", "adm"]
        shell: "/bin/bash"
      - username: "backup-admin"
        password: "BackupAdmin123!"
        sudo_access: true
        groups: ["sudo"]
        shell: "/bin/bash"
    
    ssh_password_auth: true
    ssh_key_auth: true
    permit_root_login: false
  
  roles:
    - role: platform-admin
```

## Переменные

### platform_admin_accounts (обязательно)
Список учетных записей администраторов для создания.

Каждая учетная запись может содержать:
- `username` (обязательно): Имя пользователя
- `password` (обязательно): Пароль пользователя
- `sudo_access` (опционально, по умолчанию true): Предоставить sudo доступ
- `groups` (опционально): Список групп пользователя
- `shell` (опционально, по умолчанию /bin/bash): Оболочка пользователя
- `home_directory` (опционально): Домашняя директория
- `ssh_key` (опционально): SSH публичный ключ для доступа

### ssh_password_auth (опционально, по умолчанию true)
Разрешить SSH доступ по паролю.

### ssh_key_auth (опционально, по умолчанию true)
Разрешить SSH доступ по ключам.

### permit_root_login (опционально, по умолчанию false)
Разрешить root доступ через SSH.

## Результат

После применения роли:
- Созданы учетные записи администраторов
- Настроен sudo доступ
- Настроен SSH доступ
- Создан файл ACCESS_INFO.txt с информацией о доступе

## Пример подключения

```bash
# Подключение к RADIUS серверу
ssh platform-admin@192.168.10.10

# Подключение к веб-серверу
ssh platform-admin@192.168.20.20

# Подключение к jump-серверу
ssh platform-admin@192.168.30.20
```

## Безопасность

⚠️ **ВНИМАНИЕ**: 
- Учетные записи администраторов платформы НЕ предназначены для эксплуатации уязвимостей
- Используйте их только для управления и обслуживания инфраструктуры
- Измените пароли после первого развертывания
- Используйте SSH ключи вместо паролей для безопасного доступа

