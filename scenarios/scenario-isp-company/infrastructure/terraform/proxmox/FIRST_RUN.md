# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–µ—Ä–≤–æ–º—É –∑–∞–ø—É—Å–∫—É –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –Ω–∞ Proxmox

–≠—Ç–æ –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –≤–ø–µ—Ä–≤—ã–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É ISP –∫–æ–º–ø–∞–Ω–∏–∏ –Ω–∞ Proxmox.

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- ‚úÖ Proxmox VE —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É Proxmox (–æ–±—ã—á–Ω–æ https://your-proxmox-ip:8006)
- ‚úÖ Terraform —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
- ‚úÖ SSH –∫–ª—é—á –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –í–ú (–∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π)

## –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Proxmox

### 1.1 –°–æ–∑–¥–∞–Ω–∏–µ API —Ç–æ–∫–µ–Ω–∞

1. –í–æ–π–¥–∏—Ç–µ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Proxmox
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Datacenter ‚Üí Permissions ‚Üí API Tokens**
3. –ù–∞–∂–º–∏—Ç–µ **Add**
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **Token ID**: `terraform@pve!terraform-token`
   - **User**: –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ `terraform@pve`)
   - **Privilege Separation**: –≤–∫–ª—é—á–∏—Ç–µ
5. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ Token Secret** (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!)

### 1.2 –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ Ubuntu

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. **Datacenter ‚Üí local ‚Üí ISO Images**
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ Ubuntu Cloud Image:
   - –°–∫–∞—á–∞–π—Ç–µ: https://cloud-images.ubuntu.com/focal/current/focal-server-cloudimg-amd64.img
   - –ó–∞–≥—Ä—É–∑–∏—Ç–µ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
3. **Create VM**:
   - VM ID: `9000`
   - Name: `ubuntu-20.04-template`
   - OS: Linux, 5.x - 2.6 Kernel
4. **Hardware**:
   - –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Å–∫ –∏–∑ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞
   - –î–æ–±–∞–≤—å—Ç–µ Cloud-Init Drive
5. **Cloud-Init**:
   - User: `ubuntu`
   - DNS: `8.8.8.8`
6. **Options**:
   - QEMU Guest Agent: –≤–∫–ª—é—á–µ–Ω
7. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –í–ú, –¥–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≥—Ä—É–∑–∫–∏
8. **Right-click ‚Üí Convert to Template**

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ CLI (–Ω–∞ Proxmox —Å–µ—Ä–≤–µ—Ä–µ)

```bash
# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞
cd /var/lib/vz/template/iso
wget https://cloud-images.ubuntu.com/focal/current/focal-server-cloudimg-amd64.img

# –°–æ–∑–¥–∞–Ω–∏–µ –í–ú
qm create 9000 --name ubuntu-20.04-template --memory 2048 --net0 virtio,bridge=vmbr0
qm importdisk 9000 focal-server-cloudimg-amd64.img local-lvm
qm set 9000 --scsihw virtio-scsi-pci --scsi0 local-lvm:vm-9000-disk-0
qm set 9000 --ide2 local-lvm:cloudinit
qm set 9000 --boot c --bootdisk scsi0
qm set 9000 --serial0 socket --vga serial0
qm set 9000 --agent enabled=1

# –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —à–∞–±–ª–æ–Ω
qm template 9000
```

### 1.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ —à–∞–±–ª–æ–Ω–∞

–í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ: **Datacenter ‚Üí local ‚Üí VM Templates**

–î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —à–∞–±–ª–æ–Ω `ubuntu-20.04-template`.

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### 2.1 –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ/–ø–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞

```bash
cd scenarios/scenario-isp-company/infrastructure/terraform/proxmox
```

### 2.2 –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
cp terraform.tfvars.example terraform.tfvars
```

### 2.3 –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ terraform.tfvars

–û—Ç–∫—Ä–æ–π—Ç–µ `terraform.tfvars` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:

```hcl
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Proxmox API
proxmox_api_url          = "https://YOUR_PROXMOX_IP:8006/api2/json"
proxmox_api_token_id     = "terraform@pve!terraform-token"
proxmox_api_token_secret = "–í–ê–®_–°–ï–ö–†–ï–¢_–¢–û–ö–ï–ù–ê"
proxmox_tls_insecure     = true  # true –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

# –£–∑–µ–ª Proxmox
proxmox_target_node = "proxmox"  # –ò–ª–∏ –∏–º—è –≤–∞—à–µ–≥–æ —É–∑–ª–∞

# –®–∞–±–ª–æ–Ω—ã
proxmox_template_name     = "ubuntu-20.04-template"
proxmox_kali_template_name = "kali-linux-template"  # –ü–æ–∫–∞ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å, —Å–æ–∑–¥–∞–¥–∏—Ç–µ –ø–æ–∑–∂–µ

# –•—Ä–∞–Ω–∏–ª–∏—â–µ
proxmox_disk_storage = "local-lvm"  # –ò–ª–∏ –≤–∞—à–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

# –°–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
network_bridge  = "vmbr0"
network_gateway = "192.168.10.1"
dns_servers     = ["8.8.8.8", "8.8.4.4"]
domain          = "internetplus.local"

# SSH –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
ssh_public_key_file = "~/.ssh/id_rsa.pub"  # –ò–ª–∏ –ø—É—Ç—å –∫ –≤–∞—à–µ–º—É –∫–ª—é—á—É
ssh_user            = "ubuntu"

# –î–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ - —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –º–∞—à–∏–Ω–∞
enable_radius_server    = true
enable_billing_server   = false
enable_web_server       = false
enable_monitoring_server = false
enable_jump_server      = false
enable_kali_attacker     = false

# –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
radius_cpu     = 1
radius_memory  = 2048
radius_disk_size = "20G"
```

**–í–∞–∂–Ω–æ**: –ó–∞–º–µ–Ω–∏—Ç–µ:
- `YOUR_PROXMOX_IP` –Ω–∞ IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ Proxmox —Å–µ—Ä–≤–µ—Ä–∞
- `–í–ê–®_–°–ï–ö–†–ï–¢_–¢–û–ö–ï–ù–ê` –Ω–∞ —Å–µ–∫—Ä–µ—Ç —Ç–æ–∫–µ–Ω–∞ –∏–∑ —à–∞–≥–∞ 1.1
- `proxmox` –Ω–∞ –∏–º—è –≤–∞—à–µ–≥–æ —É–∑–ª–∞ (–º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ)

### 2.4 –ü—Ä–æ–≤–µ—Ä–∫–∞ SSH –∫–ª—é—á–∞

```bash
# –ï—Å–ª–∏ –∫–ª—é—á–∞ –Ω–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ:
ssh-keygen -t ed25519 -C "terraform@proxmox"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ –∫–ª—é—á—É:
cat ~/.ssh/id_ed25519.pub
```

## –®–∞–≥ 3: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Terraform

### 3.1 –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```bash
terraform init
```

–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

### 3.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Proxmox

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
terraform validate
```

–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å URL Proxmox API
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Proxmox —Å–µ—Ä–≤–µ—Ä–∞

## –®–∞–≥ 4: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–π –º–∞—à–∏–Ω—ã

### 4.1 –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–ª–∞–Ω–∞

```bash
terraform plan
```

–î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –ø–ª–∞–Ω —Å–æ–∑–¥–∞–Ω–∏—è RADIUS —Å–µ—Ä–≤–µ—Ä–∞.

### 4.2 –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
terraform apply
```

–í–≤–µ–¥–∏—Ç–µ `yes` –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.

Terraform —Å–æ–∑–¥–∞—Å—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É –Ω–∞ Proxmox. –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç.

### 4.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å IP –∞–¥—Ä–µ—Å —Å–æ–∑–¥–∞–Ω–Ω–æ–π –º–∞—à–∏–Ω—ã
terraform output vm_ips

# –ü–æ–∫–∞–∑–∞—Ç—å –∏–º–µ–Ω–∞ –º–∞—à–∏–Ω
terraform output vm_names
```

### 4.4 –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Proxmox

–í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Proxmox:
- **Datacenter ‚Üí local ‚Üí VMs**
- –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –í–ú `radius-server`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ–Ω–∞ –∑–∞–ø—É—â–µ–Ω–∞

## –®–∞–≥ 5: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –º–∞—à–∏–Ω–µ

### 5.1 –ü–æ–ª—É—á–µ–Ω–∏–µ IP –∞–¥—Ä–µ—Å–∞

```bash
terraform output -json vm_ips | jq -r '.radius_server'
```

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Proxmox.

### 5.2 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ SSH

```bash
# –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –í–ú –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è cloud-init
ssh ubuntu@<IP_ADDRESS>

# –ò–ª–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∫–ª—é—á–∞:
ssh -i ~/.ssh/id_ed25519 ubuntu@<IP_ADDRESS>
```

–ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü–æ–¥–æ–∂–¥–∏—Ç–µ –µ—â–µ –Ω–µ–º–Ω–æ–≥–æ (cloud-init –º–æ–∂–µ—Ç –µ—â–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –í–ú –∑–∞–ø—É—â–µ–Ω–∞ –≤ Proxmox
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## –®–∞–≥ 6: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Ansible (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –º–∞—à–∏–Ω–µ, –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ Ansible:

### 6.1 –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Ansible inventory

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `inventory.ini` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `ansible`:

```ini
[radius_servers]
radius-server ansible_host=<IP_ADDRESS> ansible_user=ubuntu

[all:vars]
ansible_ssh_private_key_file=~/.ssh/id_ed25519
```

### 6.2 –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
cd ../../ansible
ansible-playbook -i inventory.ini playbook.yml -e @vulnerabilities.yml
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ï—Å–ª–∏ playbook –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω, —ç—Ç–æ—Ç —à–∞–≥ –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å.

## –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### 7.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```bash
ssh ubuntu@<IP_ADDRESS>
```

### 7.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

```bash
# –í–Ω—É—Ç—Ä–∏ –í–ú
hostname
ip addr show
df -h
free -h
```

### 7.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è platform-admin (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–ª–∏ Ansible)
id platform-admin
```

## –®–∞–≥ 8: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å–ª–µ–¥—É—é—â–∏—Ö –º–∞—à–∏–Ω

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–≤–æ–π –º–∞—à–∏–Ω—ã:

### 8.1 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞

```bash
./deploy-single-vm.sh
```

–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –º–∞—à–∏–Ω—É –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.

### 8.2 –ò–ª–∏ –≤—Ä—É—á–Ω—É—é

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `terraform.tfvars`:

```hcl
enable_web_server = true  # –í–∫–ª—é—á–∏—Ç—å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
```

–ó–∞—Ç–µ–º:

```bash
terraform plan
terraform apply
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "authentication failed"

**–†–µ—à–µ–Ω–∏–µ**: 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞ API
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –Ω–µ –∏—Å—Ç–µ–∫
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç: `user@realm!token-name`

### –û—à–∏–±–∫–∞: "template not found"

**–†–µ—à–µ–Ω–∏–µ**:
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —à–∞–±–ª–æ–Ω —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º—è –≤ `proxmox_template_name`

### –û—à–∏–±–∫–∞: "insufficient resources"

**–†–µ—à–µ–Ω–∏–µ**:
- –£–º–µ–Ω—å—à–∏—Ç–µ CPU, RAM –∏–ª–∏ disk_size –≤ terraform.tfvars
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –≤ Proxmox

### –í–ú –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Proxmox
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —à–∞–±–ª–æ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –ù–µ –º–æ–≥—É –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –ø–æ SSH

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 2-3 –º–∏–Ω—É—Ç—ã –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è (cloud-init)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ SSH –∫–ª—é—á –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏ –≤ Proxmox
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Proxmox

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø–µ—Ä–≤–æ–π –º–∞—à–∏–Ω—ã:

1. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
2. ‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ Ansible
3. ‚úÖ –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –º–∞—à–∏–Ω—É
4. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –º–∞—à–∏–Ω–∞–º–∏

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è
terraform show

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–ª–∞–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
terraform plan

# –£–¥–∞–ª–µ–Ω–∏–µ –º–∞—à–∏–Ω—ã
terraform destroy -target=module.radius_server[0]

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
terraform refresh

# –ü—Ä–æ—Å–º–æ—Ç—Ä outputs
terraform output
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [README.md](README.md) - –æ–±—â–µ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- [TESTING.md](TESTING.md) - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏
- [PROXMOX_SETUP.md](PROXMOX_SETUP.md) - –ø–æ–¥—Ä–æ–±–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Proxmox

---

**–ì–æ—Ç–æ–≤–æ!** –í—ã —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É–ª–∏ –ø–µ—Ä–≤—É—é –º–∞—à–∏–Ω—É –Ω–∞ Proxmox! üéâ

