# Скрипты для настройки сценария

Этот каталог содержит вспомогательные скрипты для настройки и управления сценарием ISP компании.

## configure-scenario.sh

Интерактивный скрипт для поэтапной настройки сценария. Позволяет выбрать компоненты, уязвимости и параметры сценария через удобное меню.

### Использование

```bash
cd scenarios/scenario-isp-company/infrastructure/scripts
./configure-scenario.sh
```

### Возможности

1. **Выбор машин** - выбрать какие машины включать в сценарий
2. **Настройка уязвимостей** - включить/отключить уязвимости для каждой машины
3. **Настройка ресурсов** - настроить CPU, RAM и диск для каждой машины
4. **Настройка сети** - настроить IP адреса, шлюзы, DNS
5. **Настройка администраторов** - настроить учетные записи администраторов платформы
6. **Уровень сложности** - выбрать уровень сложности сценария (beginner/intermediate/advanced)
7. **Просмотр конфигурации** - просмотреть текущие настройки
8. **Применение изменений** - применить изменения через Ansible
9. **Сброс к настройкам по умолчанию** - восстановить настройки по умолчанию

### Пример использования

```bash
# Запуск скрипта
./configure-scenario.sh

# В меню выберите:
# 1. Выбрать машины
# 2. Настроить уязвимости
# 6. Настроить уровень сложности
# 8. Применить изменения
```

### Резервные копии

Скрипт автоматически создает резервные копии файла `vulnerabilities.yml` перед внесением изменений. Копии сохраняются с временной меткой в имени файла.

## verify-fixes.sh

Скрипт для автоматической проверки исправлений уязвимостей на всех машинах сценария.

### Использование

```bash
# Проверка всех машин
./verify-fixes.sh

# Проверка конкретной машины
./verify-fixes.sh -m radius-server

# С сохранением результатов
./verify-fixes.sh -o results.txt
```

**Подробная документация**: См. [VERIFY_FIXES_README.md](VERIFY_FIXES_README.md)

## Другие скрипты

- `manage-vulnerabilities.sh` - управление уязвимостями через командную строку
- `setup-ssh-keys.sh` - настройка SSH ключей для администраторов

## Требования

- Bash 4.0+
- Python 3.8+ (для работы с YAML)
- Ansible (для применения изменений)

