# Анализ: Нужны ли отдельные ветки для сценариев?

## Текущая ситуация

Проект использует модель с отдельными ветками для каждого сценария:
- `main` - все сценарии + общие компоненты
- `scenario-isp-company` - только ISP сценарий
- `scenario-office-organization` - только офисный сценарий

## Плюсы отдельных веток

### ✅ Изоляция разработки
- Можно работать над одним сценарием независимо
- Не мешают файлы других сценариев
- Упрощает параллельную разработку

### ✅ Чистота структуры
- В каждой ветке только нужные файлы
- Меньше "шума" при работе с конкретным сценарием
- Проще найти нужные файлы

### ✅ Независимое версионирование
- Можно создавать теги/релизы для каждого сценария отдельно
- Разные версии сценариев могут развиваться независимо

## Минусы отдельных веток

### ❌ Дублирование общих компонентов
- Terraform модули копируются в каждую ветку
- Ansible роли дублируются
- Документация повторяется
- При изменении общего компонента нужно обновлять все ветки

### ❌ Сложность синхронизации
- Обновления общих компонентов требуют мержа во все ветки
- Риск рассинхронизации версий
- Дополнительная работа по поддержке

### ❌ Избыточная сложность
- Для проекта с 2-3 сценариями это может быть избыточно
- Требует понимания Git веток от пользователей
- Усложняет процесс для новичков

### ❌ Дополнительные шаги
- Нужно переключаться между ветками
- Нужно помнить, в какой ветке что находится
- Сложнее для студентов/преподавателей

## Альтернатива: Все в одной ветке (main)

### ✅ Преимущества
- **Простота**: Не нужно переключать ветки
- **Единая точка истины**: Все сценарии в одном месте
- **Проще поддержка**: Обновления применяются сразу ко всем
- **Меньше дублирования**: Общие компоненты в одном месте
- **Проще навигация**: Все сценарии видны сразу

### ❌ Недостатки
- Больше файлов в одной ветке
- Может быть "шумно" при работе с одним сценарием
- Нет изоляции между сценариями

## Рекомендация

### Для учебного проекта ВКР: **Одна ветка (main)**

**Обоснование:**
1. Проект небольшой (2-3 сценария)
2. Целевая аудитория - студенты и преподаватели (не все хорошо знают Git)
3. Общие компоненты используются всеми сценариями
4. Проще поддержка и обновления
5. Меньше путаницы для пользователей

### Когда отдельные ветки оправданы:

1. **Большое количество сценариев** (10+)
2. **Разные команды разработчиков** работают над разными сценариями
3. **Независимые релизы** сценариев
4. **Разные требования** к версиям общих компонентов

## Предлагаемая структура (одна ветка)

```
main/
├── terraform/
│   └── modules/          # Общие модули
├── ansible/
│   └── roles/            # Общие роли
├── docs/                 # Общая документация
├── scenarios/
│   ├── scenario-isp-company/
│   │   ├── README.md
│   │   ├── infrastructure/
│   │   └── ...
│   └── scenario-office-organization/
│       ├── README.md
│       ├── infrastructure/
│       └── ...
└── README.md
```

**Использование:**
```bash
# Клонирование
git clone <repo-url>
cd vkr

# Работа с ISP сценарием
cd scenarios/scenario-isp-company

# Работа с офисным сценарием
cd scenarios/scenario-office-organization
```

## Вывод

Для **учебного проекта ВКР** с небольшим количеством сценариев **отдельные ветки не нужны**. 

**Рекомендуется:**
- Хранить все в ветке `main`
- Использовать четкую структуру каталогов для организации
- Документировать каждый сценарий в его README
- Общие компоненты хранить в корне проекта

Это упростит использование проекта для студентов и преподавателей, а также упростит поддержку.


